# Relations æ’ä»¶

![Version](https://img.shields.io/badge/Version-1.0--SNAPSHOT-blue) ![Folia](https://img.shields.io/badge/Folia-Supported-green) ![Java](https://img.shields.io/badge/Java-21-orange)

ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„ Minecraft å…³ç³»æ’ä»¶ï¼Œæ”¯æŒç»“å©šã€å…„å¼Ÿã€é—ºèœœç­‰å¤šç§å…³ç³»ï¼Œå¹¶æä¾›ä¸°å¯Œçš„äº²å¯†åº¦äº’åŠ¨åŠŸèƒ½ã€‚
æœ¬æ’ä»¶å…¨é¢æ”¯æŒ **Paper**ã€**Spigot** ä»¥åŠ **Folia** æœåŠ¡ç«¯ï¼ˆ1.21+ï¼‰ï¼Œæ•°æ®åº“æ“ä½œå…¨å¼‚æ­¥å¤„ç†ï¼Œç¡®ä¿ä¸»çº¿ç¨‹æµç•…ã€‚

## âœ¨ ç‰¹è‰²åŠŸèƒ½

*   **å¤šæ ·çš„å…³ç³»ç±»å‹**: æ”¯æŒä¼´ä¾£ã€å…„å¼Ÿã€æŒšå‹ã€é—ºèœœã€å¯¼å¸ˆç­‰å¤šç§å…³ç³»ï¼Œå¯é«˜åº¦è‡ªå®šä¹‰ã€‚
*   **Folia æ”¯æŒ**: å®Œç¾é€‚é… Folia å¤šçº¿ç¨‹ç¯å¢ƒï¼Œåˆ©ç”¨ Regionized Scheduler è¿›è¡Œé«˜æ•ˆè°ƒåº¦ã€‚
*   **äº²å¯†åº¦ç³»ç»Ÿ**: é€šè¿‡èµ é€ç‰©å“å¢åŠ äº²å¯†åº¦ï¼Œæ”¯æŒæ¯æ—¥ä¸Šé™æ§åˆ¶ã€‚
*   **å©šå§»ä¸“å±**: 
    *   `sethome`/`home` å©šå§»å®¶å›­
    *   `gift` äº’ç›¸èµ é€ç¤¼ç‰©
    *   `tp` å¿«é€Ÿä¼ é€è‡³ä¼´ä¾£
    *   `kiss` äº²å»ç‰¹æ•ˆ
*   **ç°ä»£é…è‰²**: å…¨é¢æ”¯æŒ MiniMessage æ ¼å¼ï¼Œå†…ç½®ç»Ÿä¸€çš„ç°ä»£ RGB é…è‰²æ–¹æ¡ˆã€‚
*   **çµæ´»é…ç½®**: æ”¯æŒ SQLite/MySQL æ•°æ®åº“ï¼Œæ‰€æœ‰æ¶ˆæ¯å‡å¯è‡ªå®šä¹‰ã€‚

## ğŸ¨ é…è‰²æ–¹æ¡ˆè¯´æ˜

æœ¬æ’ä»¶é‡‡ç”¨ç»Ÿä¸€çš„ç°ä»£ RGB é…è‰²æ–¹æ¡ˆï¼Œæ”¯æŒä»¥ä¸‹ä¸‰ç§é¢œè‰²æ ¼å¼æ··åˆä½¿ç”¨ï¼š
1.  **MiniMessage**: `<color:#RRGGBB>`
2.  **Legacy**: `&c`, `&l`
3.  **Hex**: `&#RRGGBB` æˆ– `{#RRGGBB}`

**é»˜è®¤é…è‰²è¡¨**:
*   **ä¸»æ–‡æœ¬**: `<color:#E6E6E6>` (æµ…ç°ç™½)
*   **æ¬¡çº§/è¯´æ˜**: `<color:#A0A0A0>` (æ·±ç°)
*   **æ ‡é¢˜/é‡ç‚¹**: `<color:#FFD479>` (æš–é‡‘)
*   **æˆåŠŸ**: `<color:#6BFF95>` (æŸ”ç»¿)
*   **é”™è¯¯**: `<color:#FF6B6B>` (æŸ”çº¢)
*   **ä¼´ä¾£**: `<color:#FF8FB1>` (ç²‰è‰²)
*   **å…„å¼Ÿ**: `<color:#6EC6FF>` (å¤©è“)

## ğŸ§© PlaceholderAPI å˜é‡

æœ¬æ’ä»¶å®Œæ•´æ”¯æŒ PlaceholderAPIï¼Œæ‚¨å¯ä»¥åœ¨è®¡åˆ†æ¿ã€èŠå¤©æˆ–èœå•ä¸­ä½¿ç”¨ä»¥ä¸‹å˜é‡ï¼š

| å˜é‡ | æè¿° | ç¤ºä¾‹ |
| :--- | :--- | :--- |
| `%relations_gender%` | æ˜¾ç¤ºç©å®¶çš„æ€§åˆ« | `MALE` / `FEMALE` |
| `%relations_marriage_date%` | æ˜¾ç¤ºç©å®¶ç»“å©šçš„æ—¶é—´ | `2023-10-01 12:00:00` |
| `%relations_partner_<type>%` | æ˜¾ç¤ºæŒ‡å®šå…³ç³»ç±»å‹çš„å¯¹è±¡åç§° | `%relations_partner_marriage%` -> `Cinnaio` |
| `%relations_affinity_<type>%` | æ˜¾ç¤ºæŒ‡å®šå…³ç³»çš„äº²å¯†åº¦æ•°å€¼ | `%relations_affinity_brother%` -> `150` |
| `%relations_has_partner_<type>%` | æ£€æŸ¥ç©å®¶æ˜¯å¦æœ‰æŒ‡å®šå…³ç³» (true/false) | `%relations_has_partner_mentor%` -> `false` |
| `%relations_top_name_<type>_<rank>%` | æ˜¾ç¤ºæ’è¡Œæ¦œæŒ‡å®šæ’åçš„ç©å®¶ç»„åˆ | `%relations_top_name_marriage_1%` -> `PlayerA & PlayerB` |
| `%relations_top_affinity_<type>_<rank>%` | æ˜¾ç¤ºæ’è¡Œæ¦œæŒ‡å®šæ’åçš„äº²å¯†åº¦ | `%relations_top_affinity_marriage_1%` -> `999` |

*æ³¨ï¼š`<type>` ä¸º `config.yml` ä¸­å®šä¹‰çš„å…³ç³»ç±»å‹ ID (å¦‚ `marriage`, `brother`, `best_friend` ç­‰)ã€‚*

## ğŸ“– æŒ‡ä»¤åˆ—è¡¨

### ç©å®¶æŒ‡ä»¤
*   `/rel gui` - æ‰“å¼€å…³ç³»èœå•
*   `/rel list` - æŸ¥çœ‹è‡ªå·±çš„æ‰€æœ‰å…³ç³»åˆ—è¡¨
*   `/rel top <ç±»å‹>` - æŸ¥çœ‹æŒ‡å®šå…³ç³»çš„äº²å¯†åº¦æ’è¡Œæ¦œ
*   `/rel request <ç©å®¶> <ç±»å‹>` - å‘é€å…³ç³»è¯·æ±‚
*   `/rel accept <ç©å®¶>` - æ¥å—è¯·æ±‚
*   `/rel deny <ç©å®¶>` - æ‹’ç»è¯·æ±‚
*   `/rel remove <ç©å®¶>` - è§£é™¤å…³ç³»
*   `/rel gender <male|female|other>` - è®¾ç½®æ€§åˆ«
*   `/rel marry <sethome|home|gift|tp|list>` - å©šå§»ä¸“å±æŒ‡ä»¤

### ç®¡ç†å‘˜æŒ‡ä»¤ (æ”¯æŒæ§åˆ¶å°)
*   `/rel admin reload` - é‡è½½é…ç½®æ–‡ä»¶
*   `/rel admin affinity <set/add/remove> <ç©å®¶1> [ç©å®¶2] <ç±»å‹> <æ•°å€¼>` - ç®¡ç†äº²å¯†åº¦
    *   **æ³¨æ„**: ç®¡ç†å‘˜æŒ‡ä»¤ä¿®æ”¹äº²å¯†åº¦**ä¸å—æ¯æ—¥ä¸Šé™é™åˆ¶**ã€‚
*   `/rel save <ç±»å‹> [æ•°å€¼]` - å°†æ‰‹ä¸­ç‰©å“ä¿å­˜ä¸ºäº²å¯†åº¦é“å…· (éœ€ `relations.admin.save` æƒé™)

## âš™ï¸ æƒé™èŠ‚ç‚¹

### æŒ‡ä»¤æƒé™
*   `relations.command.use` - åŸºç¡€ä½¿ç”¨æƒé™ (é»˜è®¤æ‹¥æœ‰)
*   `relations.command.list` - æŸ¥çœ‹å…³ç³»åˆ—è¡¨ (é»˜è®¤æ‹¥æœ‰)
*   `relations.command.top` - æŸ¥çœ‹æ’è¡Œæ¦œ (é»˜è®¤æ‹¥æœ‰)
*   `relations.command.request` - å‘é€è¯·æ±‚ (é»˜è®¤æ‹¥æœ‰)
*   `relations.command.accept` - æ¥å—è¯·æ±‚ (é»˜è®¤æ‹¥æœ‰)
*   `relations.command.deny` - æ‹’ç»è¯·æ±‚ (é»˜è®¤æ‹¥æœ‰)
*   `relations.command.remove` - è§£é™¤å…³ç³» (é»˜è®¤æ‹¥æœ‰)
*   `relations.command.gender` - è®¾ç½®æ€§åˆ« (é»˜è®¤æ‹¥æœ‰)
*   `relations.command.marry` - å©šå§»æŒ‡ä»¤ (é»˜è®¤æ‹¥æœ‰)
*   `relations.admin` - ç®¡ç†å‘˜æƒé™ (é‡è½½ã€ç®¡ç†äº²å¯†åº¦) (é»˜è®¤ OP)
*   `relations.admin.save` - ä¿å­˜äº²å¯†åº¦ç‰©å“ (é»˜è®¤ OP)

### é™åˆ¶æƒé™ (VIPåŠŸèƒ½)
*   `relations.limit.<type>.<number>` - è®¾ç½®ç©å®¶æ‹¥æœ‰æŸç§å…³ç³»çš„æœ€å¤§æ•°é‡
    *   ç¤ºä¾‹: `relations.limit.brother.5` (å…è®¸æ‹¥æœ‰ 5 ä¸ªå…„å¼Ÿ)
*   `relations.affinity_limit.<type>.<number>` - è®¾ç½®ç©å®¶æŸç§å…³ç³»çš„æ¯æ—¥äº²å¯†åº¦è·å–ä¸Šé™
    *   ç¤ºä¾‹: `relations.affinity_limit.marriage.1000` (æ¯å¤©æœ€å¤šå¢åŠ  1000 ç‚¹äº²å¯†åº¦)

## ğŸ“¥ å®‰è£…

1. å°†æ’ä»¶ jar æ–‡ä»¶æ”¾å…¥ `plugins` æ–‡ä»¶å¤¹ã€‚
2. é‡å¯æœåŠ¡å™¨ã€‚
3. ä¿®æ”¹ `config.yml` é…ç½®æ•°æ®åº“å’Œæ¶ˆæ¯ï¼ˆå¯é€‰ï¼‰ã€‚
4. é‡è½½æ’ä»¶æˆ–é‡å¯æœåŠ¡å™¨ç”Ÿæ•ˆã€‚
